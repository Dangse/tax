<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>배우자 상속공제 계산기</title>
</head>
<body>
    <h2>배우자 상속공제 계산기</h2>

    <input type="number" id="childrensNumber" placeholder="자녀  명 ">
    <input type="text" id="houseValue" inputmode="numeric" oninput="formatNumber(this)"placeholder="주택가격 ">
    <input type="text" id="buildingValue" inputmode="numeric" oninput="formatNumber(this)">





    <button onclick="calculateSpouseInheritanceDeduction()">계산하기</button>

    <table border="1">
        <thead>
            <tr>
                <th>항목</th>
                <th>금액 (원)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>상속재산가액</td>
                <td id="inheritedProperty">-</td>
            </tr>
            <tr>
                <td>배우자 상속공제</td>
                <td id="spouseInheritanceDeduction">-</td>
            </tr>
        </tbody>
    </table>

    <script>
        function calculateSpouseInheritanceDeduction() {
            // 예제 값 (실제 구현 시 사용자 입력을 받아야 함)
            const totalProperty = 5000000000; // 총 자산 가치
            const giftFromMother = 700000000; // 어머니로부터의 증여
            const giftToChildren = 200000000; // 자녀에게의 증여
            const debts = 100000000; // 부채
            const childrensNumber = 2; // 자녀 수

            const inheritedProperty = (totalProperty + giftFromMother + giftToChildren) - debts;
            let spouseInheritanceDeduction = Math.min(
                inheritedProperty * (1.5 / (childrensNumber + 0.5)) - (giftFromMother - 600000000),
                3000000000
            );

            // 계산한 금액이 5억 이하일 경우 5억으로 조정
            spouseInheritanceDeduction = Math.max(spouseInheritanceDeduction, 500000000);

            document.getElementById('inheritedProperty').innerText = inheritedProperty.toLocaleString();
            document.getElementById('spouseInheritanceDeduction').innerText = spouseInheritanceDeduction.toLocaleString();
        }
    </script>
</body>
</html>
